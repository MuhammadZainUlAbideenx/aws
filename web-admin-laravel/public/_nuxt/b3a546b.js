(window.webpackJsonp=window.webpackJsonp||[]).push([[425,20],{1129:function(e,r,t){"use strict";t.r(r);t(43),t(25),t(7),t(4),t(57),t(40),t(58);var n=t(0),o=t(21),l=(t(5),t(33),t(81),t(129));function c(object,e){var r=Object.keys(object);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(object);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),r.push.apply(r,t)}return r}var d={layout:"admin_guest",auth:!1,data:function(){return{form:{username:"",password:"",strategy:"admin",email:""},disabled:!1,error:null,fcmToken:"",uid:"",loginPasswordType:"password"}},mounted:function(){this.allSettings&&this.allSettings.general_settings&&this.allSettings.general_settings.is_notification_activated&&"granted"==Notification.permission&&this.generateFcmTokenAndUid()},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(r){Object(o.a)(e,r,source[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(source,r))}))}return e}({},Object(l.c)({allSettings:"allDefaultSettings"})),methods:{generateFcmTokenAndUid:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var t,n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$fire.messaging.getToken();case 2:e.fcmToken=r.sent,t=window.navigator,n=window.screen,o=t.mimeTypes.length,o+=t.userAgent.replace(/\D+/g,""),o+=t.plugins.length,o+=n.height||"",o+=n.width||"",o+=n.pixelDepth||"",e.uid=o;case 12:case"end":return r.stop()}}),r)})))()},loginPassport:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.disabled=!0,r.next=3,e.logoutOtherAccounts();case 3:return e.form.email=e.form.username,e.error=null,r.next=7,e.$auth.loginWith("admin",{data:e.form}).then(Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$auth.fetchUser();case 2:return r.next=4,e.$gates.setRoles(e.$auth.user.roles);case 4:return r.next=6,e.$gates.setPermissions(e.$auth.user.permissions);case 6:if(!(e.allSettings&&e.allSettings.general_settings&&e.allSettings.general_settings.is_notification_activated)){r.next=10;break}if("granted"!=Notification.permission){r.next=10;break}return r.next=10,e.storeFcmToken();case 10:e.$router.replace("/admin/dashboard"),e.$toast.success(e.$t("you_have_been_logged_in"));case 12:case"end":return r.stop()}}),r)})))).catch((function(r){return e.error=r.response.data}));case 7:e.error&&(e.disabled=!1);case 8:case"end":return r.stop()}}),r)})))()},storeFcmToken:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$webService.storeFcmToken({device_id:e.uid,fcm_token:e.fcmToken});case 2:t=r.sent,t.data;case 4:case"end":return r.stop()}}),r)})))()},changeLoginPasswordType:function(){"password"===this.loginPasswordType?this.loginPasswordType="text":this.loginPasswordType="password"},logoutOtherAccounts:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$auth.logout();case 2:return r.next=4,e.$gates.setRoles([]);case 4:return r.next=6,e.$gates.setPermissions([]);case 6:case"end":return r.stop()}}),r)})))()}},watch:{form:{handler:function(e,r){(this.error=null)&&(this.error=null)},deep:!0}}},m=d,f=t(71),component=Object(f.a)(m,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"login py-5"},[t("div",{staticClass:"\n      row\n      m-0\n      d-flex\n      align-items-center\n      justify-content-center\n      px-3 px-md-0\n    "},[t("div",{staticClass:"w-450px"},[t("div",{staticClass:"border border-white rounded"},[t("div",{staticClass:"py-4 bg-white rounded"},[t("div",{staticClass:"container py-2"},[t("h3",{staticClass:"text-center"},[t("nuxt-link",{staticClass:"text-primary heebo-bold",attrs:{to:"/admin/dashboard"}},[t("AdminLogo")],1)],1),e._v(" "),t("p",{staticClass:"text-center pb-4 mb-0"},[e._v("\n               "+e._s(e.$t("login.admin_description"))+"\n            ")]),e._v(" "),t("form",{staticClass:"px-md-3",on:{submit:function(r){return r.preventDefault(),e.loginPassport.apply(null,arguments)}}},[t("div",{staticClass:"pb-4 px-md-3"},[t("label",{staticClass:"form-label px-3",attrs:{for:"LoggingEmailAddress"}},[e._v(e._s(e.$t("login.email_address")))]),e._v(" "),e.error&&e.error.errors&&e.error.errors.email?t("span",{staticClass:"float-end"},[t("span",{staticClass:"text-danger"},[e._v("\n                    "+e._s(e.error.errors.email[0])+"\n                  ")])]):e._e(),e._v(" "),e.vErrors.has("email")?t("div",{staticClass:"float-end",attrs:{show:!0}},[t("span",{staticClass:"text-danger"},[e._v("\n                    "+e._s(e.vErrors.first("email"))+"\n                  ")])]):e._e(),e._v(" "),t("div",{staticClass:"form-icon position-relative d-inline-block w-100"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.username,expression:"form.username"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",class:e.error&&e.error.errors&&e.error.errors.email?"error":"",attrs:{id:"LoggingEmailAddress",type:"email","aria-describedby":"emailHelp",placeholder:e.$t("login.enter_email_placeholder"),"data-vv-name":"email",state:!e.vErrors.has("email")&&null},domProps:{value:e.form.username},on:{input:function(r){r.target.composing||e.$set(e.form,"username",r.target.value)}}}),e._v(" "),t("div",{staticClass:"\n                      px-3\n                      position-absolute\n                      end-0\n                      translate-middle-y\n                      top-50\n                    "},[t("fa",{staticClass:"text-primary",attrs:{icon:"at","fixed-width":""}})],1)])]),e._v(" "),t("div",{staticClass:"pb-4 px-md-3"},[t("label",{staticClass:"form-label px-3",attrs:{for:"loggingPassword"}},[e._v(e._s(e.$t("login.password")))]),e._v(" "),e.error&&e.error.errors&&e.error.errors.password?t("span",{staticClass:"float-end"},[t("span",{staticClass:"text-danger"},[e._v("\n                    "+e._s(e.error.errors.password[0])+"\n                  ")])]):e._e(),e._v(" "),e.vErrors.has("password")?t("div",{staticClass:"float-end",attrs:{show:!0}},[t("span",{staticClass:"text-danger"},[e._v("\n                    "+e._s(e.vErrors.first("password"))+"\n                  ")])]):e._e(),e._v(" "),t("div",{staticClass:"form-icon position-relative d-inline-block w-100"},["checkbox"===e.loginPasswordType?t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"},{name:"validate",rawName:"v-validate",value:"required|min:8",expression:"'required|min:8'"}],staticClass:"form-control",class:e.error&&e.error.errors&&e.error.errors.password?"error":"",attrs:{id:"loggingPassword",placeholder:e.$t("login.enter_password_placeholder"),"data-vv-name":"password",state:!e.vErrors.has("password")&&null,type:"checkbox"},domProps:{checked:Array.isArray(e.form.password)?e._i(e.form.password,null)>-1:e.form.password},on:{change:function(r){var t=e.form.password,n=r.target,o=!!n.checked;if(Array.isArray(t)){var l=e._i(t,null);n.checked?l<0&&e.$set(e.form,"password",t.concat([null])):l>-1&&e.$set(e.form,"password",t.slice(0,l).concat(t.slice(l+1)))}else e.$set(e.form,"password",o)}}}):"radio"===e.loginPasswordType?t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"},{name:"validate",rawName:"v-validate",value:"required|min:8",expression:"'required|min:8'"}],staticClass:"form-control",class:e.error&&e.error.errors&&e.error.errors.password?"error":"",attrs:{id:"loggingPassword",placeholder:e.$t("login.enter_password_placeholder"),"data-vv-name":"password",state:!e.vErrors.has("password")&&null,type:"radio"},domProps:{checked:e._q(e.form.password,null)},on:{change:function(r){return e.$set(e.form,"password",null)}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"},{name:"validate",rawName:"v-validate",value:"required|min:8",expression:"'required|min:8'"}],staticClass:"form-control",class:e.error&&e.error.errors&&e.error.errors.password?"error":"",attrs:{id:"loggingPassword",placeholder:e.$t("login.enter_password_placeholder"),"data-vv-name":"password",state:!e.vErrors.has("password")&&null,type:e.loginPasswordType},domProps:{value:e.form.password},on:{input:function(r){r.target.composing||e.$set(e.form,"password",r.target.value)}}}),e._v(" "),t("div",{staticClass:"\n                      px-3\n                      position-absolute\n                      top-50\n                      end-0\n                      translate-middle-y\n                    ",on:{click:e.changeLoginPasswordType}},[t("fa",{staticClass:"text-primary",attrs:{icon:"eye","fixed-width":""}})],1)])]),e._v(" "),t("div",{staticClass:"d-flex align-items-center justify-content-between px-3"},[t("div",{staticClass:"form-check"},[t("input",{staticClass:"form-check-input",attrs:{type:"checkbox",id:"login-check"}}),e._v(" "),t("label",{staticClass:"form-check-label",attrs:{for:"login-check"}},[e._v("\n                    "+e._s(e.$t("login.keep_login")))])]),e._v(" "),t("div",{staticClass:"form-check pl-0"},[t("nuxt-link",{staticClass:"text-xs heebo-light hover:underline",attrs:{to:e.localePath("/forgot-passsword")}},[e._v("\n                   "+e._s(e.$t("login.forgot_password"))+"\n                  ")])],1)]),e._v(" "),t("div",{staticClass:"mb-3"}),e._v(" "),t("div",{staticClass:"d-grid gap-2 p-3"},[t("button",{staticClass:"btn btn-primary login-btn",attrs:{type:"submit",disabled:e.disabled}},[e._v("\n                 "+e._s(e.$t("login.login"))+"\n                ")])])])])])])])])])}),[],!1,null,null,null);r.default=component.exports;installComponents(component,{AdminLogo:t(720).default})},720:function(e,r,t){"use strict";t.r(r);t(43),t(25),t(7),t(4),t(57),t(40),t(58);var n=t(21),o=t(129);function l(object,e){var r=Object.keys(object);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(object);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),r.push.apply(r,t)}return r}var c={props:["Dark"],data:function(){return{}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(r){Object(n.a)(e,r,source[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(source,r))}))}return e}({},Object(o.c)({allSettings:"allDefaultSettings"})),mounted:function(){}},d=c,m=t(71),component=Object(m.a)(d,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return e.allSettings.general_settings&&e.allSettings.general_settings.logo?t("div",{staticClass:"brand-image"},[e.Dark?t("img",{staticStyle:{height:"50px"},attrs:{alt:"Logo",src:"/backend"+e.allSettings.general_settings.logo_dark.original_media_path}}):t("img",{staticStyle:{height:"50px"},attrs:{alt:"Logo",src:"/backend"+e.allSettings.general_settings.logo.original_media_path}})]):e._e()}),[],!1,null,null,null);r.default=component.exports}}]);