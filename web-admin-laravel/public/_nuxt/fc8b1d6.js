(window.webpackJsonp=window.webpackJsonp||[]).push([[472,32],{1216:function(t,e,n){"use strict";n.r(e);var l=n(0),r=(n(5),{layout:"admin",middleware:["admin","permission"],meta:{permission:"reports.index",strategy:"read"},mixins:[n(665).a],data:function(){return{error:!1,errors:"",filter_min_date:"",loading:!1,allCustomerReports:"",columns:[{label:this.$t("form.customer.first_name.label"),field:"first_name",sortable:!1},{label:this.$t("form.customer.last_name.label"),field:"last_name",sortable:!1},{label:this.$t("form.customer.dob.label"),field:"dob",sortable:!1},{label:this.$t("form.customer.phone.label"),field:"phone",sortable:!1},{label:this.$t("form.customer.email.label"),field:"email",sortable:!1},{label:this.$t("form.customer.gender.label"),field:"gender",sortable:!1},{label:this.$t("form.customer.status.label"),field:"is_active",sortable:!1}]}},fetch:function(){return Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},methods:{exportCustomers:function(t){var e=this;return Object(l.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.filterData.export=t,n.next=3,e.$generalService.customerExport(e.filterData);case 3:case"end":return n.stop()}}),n)})))()},filter:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.getReports();case 1:case"end":return e.stop()}}),e)})))()},getReports:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,t.error=!1,t.errors="",e.next=5,t.$generalService.getCustomerReports(t.filterData);case 5:(data=e.sent).success?(t.loading=!1,t.rows=data.data.data,t.allCustomerReports=data.data):(t.loading=!1,t.error=!0,t.errors=data.errors,t.$toast.error(data.message));case 7:case"end":return e.stop()}}),e)})))()}},mounted:function(){},watch:{allCustomerReports:function(t,e){this.allCustomerReports&&null!=this.allCustomerReports&&null!=this.allCustomerReports.data&&(this.rows=this.allCustomerReports.data,this.totalRows=this.allCustomerReports.meta.total,this.filterData.page!=this.allCustomerReports.meta.current_page&&(this.filterData.page=this.allCustomerReports.meta.current_page),this.filterData.perPage!=this.allCustomerReports.meta.per_page&&(this.filterData.perPage=this.allCustomerReports.meta.per_page))},"filterData.date_from":function(t,e){var n=new Date(t).toISOString();this.filter_min_date=n}}}),o=n(71),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[l("div",{staticClass:"content-header"},[l("div",{staticClass:"row g-0"},[l("div",{staticClass:"col-sm-12 px-0"},[l("h2",{staticClass:"m-0 text-body bold"},[t._v("\n           "+t._s(this.$t("sidebar.reports.customer"))+"\n         ")])]),t._v(" "),l("div",{staticClass:"row"},[l("div",{staticClass:"col-sm-12 px-0"},[l("ol",{staticClass:"breadcrumb float-sm-right text-body"},[l("li",{staticClass:"breadcrumb-item"},[l("a",{attrs:{href:"#"}},[t._v(t._s(this.$t("sidebar.home")))])]),t._v(" "),l("li",{staticClass:"breadcrumb-item active"},[t._v("\n               "+t._s(this.$t("sidebar.reports.customer"))+"\n             ")])]),t._v(" "),l("p",{staticClass:"text-body-secondary"},[t._v("\n             "+t._s(this.$t("reports.customer.index_description"))+"\n           ")])])])])]),t._v(" "),l("section",{staticClass:"content"},[l("div",{staticClass:"container-fluid"},[l("div",{staticClass:"card gutter-b bsale-0"},[l("div",{staticClass:"card-header p-0"},[l("div",{staticClass:"row table-filter-row g-0 justify-content-end"},[l("div",{staticClass:"col-lg-5 col-md-12"},[l("div",{staticClass:"d-flex flex-column flex-md-row"},[l("select",{directives:[{name:"model",rawName:"v-model",value:t.filterData.column,expression:"filterData.column"}],staticClass:"form-select custom-select",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.filterData,"column",e.target.multiple?n:n[0])}}},[l("option",{attrs:{value:"",disabled:""}},[t._v(t._s(t.$t("table.select_column")))]),t._v(" "),l("option",{attrs:{value:"first_name"}},[t._v("\n                       "+t._s(t.$t("form.customer.first_name.label"))+"\n                     ")]),t._v(" "),l("option",{attrs:{value:"last_name"}},[t._v("\n                       "+t._s(t.$t("form.customer.last_name.label"))+"\n                     ")]),t._v(" "),l("option",{attrs:{value:"phone"}},[t._v("\n                       "+t._s(t.$t("form.customer.phone.label"))+"\n                     ")]),t._v(" "),l("option",{attrs:{value:"email"}},[t._v("\n                       "+t._s(t.$t("form.customer.email.label"))+"\n                     ")]),t._v(" "),l("option",{attrs:{value:"gender"}},[t._v("\n                       "+t._s(t.$t("form.customer.gender.label"))+"\n                     ")])]),t._v(" "),l("div",{staticClass:"form-group position-relative custom-search-width"},[l("input",{directives:[{name:"model",rawName:"v-model",value:t.filterData.search,expression:"filterData.search"}],staticClass:"form-control",attrs:{type:"search",placeholder:this.$t("dataTables.Search")},domProps:{value:t.filterData.search},on:{keyup:t.removeIcon,input:function(e){e.target.composing||t.$set(t.filterData,"search",e.target.value)}}}),t._v(" "),l("div",{staticClass:"position-absolute search-input-custom",class:{"d-none":t.hideIcon}},[l("fa",{attrs:{icon:["fas","search"],"fixed-width":""}})],1)])])]),t._v(" "),l("div",{staticClass:"col-lg-5 col-md-10 pt-md-3 pt-lg-0"},[l("div",{staticClass:"d-flex flex-column flex-md-row"},[l("div",{staticClass:"form-group position-relative ms-md-0 ms-lg-0"},[l("datetime",{attrs:{format:"yyyy-MM-dd",placeholder:this.$t("reports.customer.start_date"),"input-class":"form-control",type:"date","value-zone":"local"},model:{value:t.filterData.date_from,callback:function(e){t.$set(t.filterData,"date_from",e)},expression:"filterData.date_from"}}),t._v(" "),t.error&&t.errors.date_from?l("span",{staticClass:"float-end text-danger"},[t._v("\n                     "+t._s(t.errors.date_from[0])+"\n                   ")]):t._e()],1),t._v(" "),l("div",{staticClass:"form-group position-relative"},[l("datetime",{attrs:{format:"yyyy-MM-dd",placeholder:this.$t("reports.customer.end_date"),"input-class":"form-control",type:"date","value-zone":"local","min-datetime":t.filter_min_date},model:{value:t.filterData.date_to,callback:function(e){t.$set(t.filterData,"date_to",e)},expression:"filterData.date_to"}}),t._v(" "),t.error&&t.errors.date_to?l("span",{staticClass:"float-end text-danger"},[t._v("\n                     "+t._s(t.errors.date_to[0])+"\n                   ")]):t._e()],1)])]),t._v(" "),l("div",{staticClass:"col-md-2 col-lg-2 col-xlg-2 table-actions px-0"},[l("div",{staticClass:"align-middle",attrs:{slot:"table-actions"},slot:"table-actions"},[t.rows.length>0?l("div",{staticClass:"share"},[l("nav",[l("span",{on:{click:function(e){return t.exportCustomers("csv")}}}),t._v(" "),l("span",{on:{click:function(e){return t.exportCustomers("xlsx")}}}),t._v(" "),l("span",{on:{click:function(e){return t.exportCustomers("pdf")}}},[l("nuxt-link",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:"Export PDF File"},expression:"{ content: 'Export PDF File' }"}],attrs:{to:"#"}},[l("img",{attrs:{src:n(669),alt:"",height:"20px",width:"20px"}})])],1),t._v(" "),l("nuxt-link",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:"Export File"},expression:"{ content: 'Export File' }"}],attrs:{to:"#"}},[l("fa",{attrs:{icon:["fas","arrow-down"],"fixed-width":""}})],1)],1)]):t._e()])]),t._v(" "),l("div",{staticClass:"col-12 mt-3 position-relative d-flex align-items-center"},[l("button",{staticClass:"btn btn-primary py-2 px-3 z-index-1",attrs:{"data-v-cba73d34":"",type:"button",name:"button"},on:{click:t.getReports}},[t._v("\n                     "+t._s(t.$t("apply"))+"\n                   ")])])])]),t._v(" "),l("div",{staticClass:"card-body mt-2 data-tables-div py-0 m-0 rounded-md"},[t.loading?l("div",[l("AdminTableLoader")],1):l("div",{staticClass:"col-md-12"},[t.$fetchState.pending?t._e():l("vue-good-table",{attrs:{mode:"remote",columns:t.columns,rows:t.rows,totalRows:t.totalRows,"line-numbers":!0,"pagination-options":{mode:"pages",enabled:!0,perPage:t.filterData.perPage,setCurrentPage:t.filterData.page,nextLabel:t.pagination.nextLabel,prevLabel:t.pagination.prevLabel,rowsPerPageLabel:t.pagination.rowsPerPageLabel,ofLabel:t.pagination.ofLabel,pageLabel:t.pagination.pageLabel,allLabel:t.pagination.allLabel},styleClass:"vgt-table striped","row-style-class":"m-5"},on:{"on-page-change":t.onPageChange,"on-sort-change":t.onSortChange,"on-per-page-change":t.onPerPageChange},scopedSlots:t._u([{key:"table-row",fn:function(e){return["is_active"==e.column.field?l("div",[l("div",{staticClass:"form-switch"},[l("input",{staticClass:"form-check-input",attrs:{type:"checkbox",disabled:"disabled",id:"flexSwitchCheckChecked"},domProps:{checked:1==e.row.is_active?"checked":""}})])]):l("span",[t._v("\n                   "+t._s(e.formattedRow[e.column.field])+"\n                 ")])]}}],null,!1,3251645072)},[t._v(" "),l("div",{attrs:{slot:"emptystate"},slot:"emptystate"},[t._v("\n                 "+t._s(t.$t("table.table_empty_message"))+"\n               ")])])],1)])])])])])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{AdminTableLoader:n(668).default})},665:function(t,e,n){"use strict";n(7),n(4),n(209),n(33),n(258);e.a={data:function(){return{hideIcon:0,filterData:{id:"",search:"",column:"",page:1,perPage:10,sort:{field:"",type:""},export:"",date_from:"",date_to:"",status:"",vendor_id:""},pagination:{nextLabel:this.$t("pagination.nextLabel"),prevLabel:this.$t("pagination.prevLabel"),rowsPerPageLabel:this.$t("pagination.rowsPerPageLabel"),ofLabel:this.$t("pagination.ofLabel"),pageLabel:this.$t("pagination.pageLabel"),allLabel:this.$t("pagination.allLabel")},rows:[],totalRows:""}},methods:{onPageChange:function(t){this.filterData.page=t.currentPage,this.filter()},onPerPageChange:function(t){var e;(this.filterData.page=1,-1==t.currentPerPage)?this.filterData.perPage=null!==(e=this.totalRows)&&void 0!==e?e:0:this.filterData.perPage=t.currentPerPage;this.filter(),this.filterData.perPage=""},onSortChange:function(t){"none"==t[0].type?this.filterData.sort.type="":this.filterData.sort.type=t[0].type,this.filterData.sort.field=t[0].field,this.filter()},removeIcon:function(){""!=this.filterData.search?this.hideIcon=1:this.hideIcon=0}}}},668:function(t,e,n){"use strict";n.r(e);var l={props:["image"]},r=n(71),component=Object(r.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fluid skeletion-effect"},[n("div",{staticClass:"card gutter-b border-0"},[n("div",{staticClass:"card-header p-0"},[n("div",{staticClass:"row table-filter-row g-0 mx-0 justify-content-end"},[t._m(0),t._v(" "),n("div",{staticClass:"col-md-6 col-lg-5 col-xlg-6 table-actions px-0"},[n("div",{staticClass:"align-middle",attrs:{slot:"table-actions"},slot:"table-actions"},[n("div",{staticClass:"circle-btn skeletion-animation"}),t._v(" "),n("div",{staticClass:"circle-btn skeletion-animation"})])])])]),t._v(" "),n("div",{staticClass:"card-body  mt-2 data-tables-div py-0 m-0 rounded-md"},[n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"vgt-wrap"},[n("div",{staticClass:"vgt-inner-wrap"},[n("div",{staticClass:"vgt-fixed-header"}),t._v(" "),n("div",{staticClass:"vgt-responsive"},[n("table",{staticClass:"vgt-table striped",attrs:{id:"vgt-table"}},[n("thead",[n("tr",[n("th",{staticClass:"line-numbers",attrs:{scope:"col"}}),t._v(" "),t._m(1),t._v(" "),t.image?n("span",[t._m(2)]):t._e(),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6)])]),t._v(" "),n("tbody",[n("tr",{staticClass:"m-5"},[t._m(7),t._v(" "),t._m(8),t._v(" "),t.image?n("span",[t._m(9)]):t._e(),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13)]),t._v(" "),n("tr",{staticClass:"m-5"},[t._m(14),t._v(" "),t._m(15),t._v(" "),t.image?n("span",[t._m(16)]):t._e(),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20)]),t._v(" "),n("tr",{staticClass:"m-5"},[t._m(21),t._v(" "),t._m(22),t._v(" "),t.image?n("span",[t._m(23)]):t._e(),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._v(" "),t._m(27)]),t._v(" "),n("tr",{staticClass:"m-5"},[t._m(28),t._v(" "),t._m(29),t._v(" "),t.image?n("span",[t._m(30)]):t._e(),t._v(" "),t._m(31),t._v(" "),t._m(32),t._v(" "),t._m(33),t._v(" "),t._m(34)]),t._v(" "),n("tr",{staticClass:"m-5"},[t._m(35),t._v(" "),t._m(36),t._v(" "),t.image?n("span",[t._m(37)]):t._e(),t._v(" "),t._m(38),t._v(" "),t._m(39),t._v(" "),t._m(40),t._v(" "),t._m(41)])])])]),t._v(" "),t._m(42)])])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-6 col-lg-7"},[e("div",{staticClass:"filter-bar skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("th",[e("div",{staticClass:"heading skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("th",[e("div",{staticClass:"heading skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("th",[e("div",{staticClass:"heading skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("th",[e("div",{staticClass:"heading skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("th",[e("div",{staticClass:"heading skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("th",[e("div",{staticClass:"heading skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("th",{staticClass:"line-numbers"},[e("div",{staticClass:"icon skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vgt-left-align"},[e("div",{staticClass:"heading skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vgt-left-align"},[e("div",{staticClass:"image skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vgt-left-align"},[e("div",{staticClass:"heading skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vgt-left-align"},[e("div",{staticClass:"switch skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vgt-left-align"},[e("div",{staticClass:"content skeletion-animation"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",{staticClass:"vgt-left-align"},[n("div",{staticClass:"icon skeletion-animation"}),t._v(" "),n("div",{staticClass:"icon skeletion-animation"}),t._v(" "),n("div",{staticClass:"icon skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("th",{staticClass:"line-numbers"},[e("div",{staticClass:"icon skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vgt-left-align"},[e("div",{staticClass:"heading skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vgt-left-align"},[e("div",{staticClass:"image skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vgt-left-align"},[e("div",{staticClass:"heading skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vgt-left-align"},[e("div",{staticClass:"switch skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vgt-left-align"},[e("div",{staticClass:"content skeletion-animation"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",{staticClass:"vgt-left-align"},[n("div",{staticClass:"icon skeletion-animation"}),t._v(" "),n("div",{staticClass:"icon skeletion-animation"}),t._v(" "),n("div",{staticClass:"icon skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("th",{staticClass:"line-numbers"},[e("div",{staticClass:"icon skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vgt-left-align"},[e("div",{staticClass:"heading skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vgt-left-align"},[e("div",{staticClass:"image skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vgt-left-align"},[e("div",{staticClass:"heading skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vgt-left-align"},[e("div",{staticClass:"switch skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vgt-left-align"},[e("div",{staticClass:"content skeletion-animation"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",{staticClass:"vgt-left-align"},[n("div",{staticClass:"icon skeletion-animation"}),t._v(" "),n("div",{staticClass:"icon skeletion-animation"}),t._v(" "),n("div",{staticClass:"icon skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("th",{staticClass:"line-numbers"},[e("div",{staticClass:"icon skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vgt-left-align"},[e("div",{staticClass:"heading skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vgt-left-align"},[e("div",{staticClass:"image skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vgt-left-align"},[e("div",{staticClass:"heading skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vgt-left-align"},[e("div",{staticClass:"switch skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vgt-left-align"},[e("div",{staticClass:"content skeletion-animation"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",{staticClass:"vgt-left-align"},[n("div",{staticClass:"icon skeletion-animation"}),t._v(" "),n("div",{staticClass:"icon skeletion-animation"}),t._v(" "),n("div",{staticClass:"icon skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("th",{staticClass:"line-numbers"},[e("div",{staticClass:"icon skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vgt-left-align"},[e("div",{staticClass:"heading skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vgt-left-align"},[e("div",{staticClass:"image skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vgt-left-align"},[e("div",{staticClass:"heading skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vgt-left-align"},[e("div",{staticClass:"switch skeletion-animation"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vgt-left-align"},[e("div",{staticClass:"content skeletion-animation"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",{staticClass:"vgt-left-align"},[n("div",{staticClass:"icon skeletion-animation"}),t._v(" "),n("div",{staticClass:"icon skeletion-animation"}),t._v(" "),n("div",{staticClass:"icon skeletion-animation"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vgt-wrap__footer vgt-clearfix"},[n("div",{staticClass:"footer__row-count vgt-pull-left"},[n("div",{staticClass:"content skeletion-animation"})]),t._v(" "),n("div",{staticClass:"footer__navigation vgt-pull-right"},[n("div",{staticClass:"footer__navigation__page-info"},[n("div",{staticClass:"content skeletion-animation"})])])])}],!1,null,null,null);e.default=component.exports},669:function(t,e,n){t.exports=n.p+"img/pdf.e9547c3.png"}}]);